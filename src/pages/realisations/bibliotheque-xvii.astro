---
import BaseLayout from "../../layouts/BaseLayout.astro";
const base = import.meta.env.BASE_URL;
---

<BaseLayout title="Restauration d’une bibliothèque du XVIIᵉ siècle — Barthès Maçonnerie">
  <article>
    <h2>Restauration d’une bibliothèque du XVIIᵉ siècle</h2>

    <p>
      Intervention sur les croisées de voûtes en brique et reprise complète des enduits
      de la bâtisse afin de résoudre les problèmes d’humidité.
    </p>

    <p>
      Les anciens enduits ciment empêchaient les murs de respirer. Ils ont été déposés
      au profit d’un corps d’enduit à la chaux hydraulique, suivi d’une finition
      à la chaux aérienne.
    </p>

    <ul>
      <li>Déjointoiement</li>
      <li>Piquage des enduits ciment</li>
      <li>Aérogommage</li>
      <li>Enduits traditionnels à la chaux</li>
    </ul>

    <!-- Carousel -->
    <div class="carousel">
      <div class="carousel-track">
        <img
          src={`${base}images/realisations/bibliotheque-xvii/01.jpg`}
          alt="Bibliothèque XVIIᵉ siècle – voûtes en brique"
          loading="lazy"
        />
        <img
          src={`${base}images/realisations/bibliotheque-xvii/02.jpg`}
          alt="Dépose des anciens enduits ciment"
          loading="lazy"
        />
        <img
          src={`${base}images/realisations/bibliotheque-xvii/03.jpg`}
          alt="Application d’enduit traditionnel à la chaux"
          loading="lazy"
        />
        <img
          src={`${base}images/realisations/bibliotheque-xvii/04.jpg`}
          alt="Bibliothèque restaurée – finition à la chaux"
          loading="lazy"
        />
      </div>

      <button class="carousel-btn prev" aria-label="Image précédente">‹</button>
      <button class="carousel-btn next" aria-label="Image suivante">›</button>
    </div>
  </article>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const carousel = document.querySelector(".carousel");
    if (!carousel) return;

    const track = carousel.querySelector(".carousel-track");
    const slides = Array.from(track.children);
    const prevBtn = carousel.querySelector(".carousel-btn.prev");
    const nextBtn = carousel.querySelector(".carousel-btn.next");

    let index = 0;

    const goToSlide = (i) => {
      index = Math.max(0, Math.min(i, slides.length - 1));
      slides[index].scrollIntoView({
        behavior: "smooth",
        inline: "center"
      });
    };

    prevBtn?.addEventListener("click", () => {
      goToSlide(index - 1);
    });

    nextBtn?.addEventListener("click", () => {
      goToSlide(index + 1);
    });
  });
</script>

</BaseLayout>
